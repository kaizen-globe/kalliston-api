{"version":3,"file":"UserController.js","names":["util","Util","UserController","req","res","UserService","getAllUsers","allUsers","length","setSuccess","send","setError","body","email","password","gender","newUser","addUser","createdUser","message","alteredUser","id","params","Number","updateUser","getAUser","theUser","deleteUser","userToDelete"],"sources":["../../../api/server/controllers/UserController.js"],"sourcesContent":["import UserService from \"../services/UserService\";\r\nimport Util from '../utils/Utils'\r\n\r\nconst util = new Util();\r\n\r\nclass UserController {\r\n  static async getAllUsers(req, res) {\r\n    try {\r\n      const allUsers = await UserService.getAllUsers();\r\n      if (allUsers.length > 0) {\r\n        util.setSuccess(200, 'Users retrieved', allUsers);\r\n      } else {\r\n        util.setSuccess(200, 'No user found');\r\n      }\r\n      return util.send(res);\r\n    } catch (error) {\r\n      util.setError(400, error);\r\n      return util.send(res);\r\n    }\r\n  }\r\n\r\n  static async addUser(req, res) {\r\n    if (!req.body.email || !req.body.password || !req.body.gender) {\r\n      util.setError(400, 'Please provide complete details');\r\n      return util.send(res);\r\n    }\r\n    const newUser = req.body;\r\n    try {\r\n      const createdUser = await UserService.addUser(newUser);\r\n      util.setSuccess(201, 'User Added!', createdUser);\r\n      return util.send(res);\r\n    } catch (error) {\r\n      util.setError(400, error.message);\r\n      return util.send(res);\r\n    }\r\n  }\r\n\r\n  static async updatedUser(req, res) {\r\n    const alteredUser = req.body;\r\n    const { id } = req.params;\r\n    if (!Number(id)) {\r\n      util.setError(400, 'Please input a valid numeric value');\r\n      return util.send(res);\r\n    }\r\n    try {\r\n      const updateUser = await UserService.updateUser(id, alteredUser);\r\n      if (!updateUser) {\r\n        util.setError(404, `Cannot find user with the id: ${id}`);\r\n      } else {\r\n        util.setSuccess(200, 'User updated', updateUser);\r\n      }\r\n      return util.send(res);\r\n    } catch (error) {\r\n      util.setError(404, error);\r\n      return util.send(res);\r\n    }\r\n  }\r\n\r\n  static async getAUser(req, res) {\r\n    const { id } = req.params;\r\n\r\n    if (!Number(id)) {\r\n      util.setError(400, 'Please input a valid numeric value');\r\n      return util.send(res);\r\n    }\r\n\r\n    try {\r\n      const theUser = await UserService.getAUser(id);\r\n\r\n      if (!theUser) {\r\n        util.setError(404, `Cannot find user with the id ${id}`);\r\n      } else {\r\n        util.setSuccess(200, 'Found User', theUser);\r\n      }\r\n      return util.send(res);\r\n    } catch (error) {\r\n      util.setError(404, error);\r\n      return util.send(res);\r\n    }\r\n  }\r\n\r\n  static async deleteUser(req, res) {\r\n    const { id } = req.params;\r\n\r\n    if (!Number(id)) {\r\n      util.setError(400, 'Please provide a numeric value');\r\n      return util.send(res);\r\n    }\r\n\r\n    try {\r\n      const userToDelete = await UserService.deleteUser(id);\r\n\r\n      if (userToDelete) {\r\n        util.setSuccess(200, 'User deleted');\r\n      } else {\r\n        util.setError(404, `User with the id ${id} cannot be found`);\r\n      }\r\n      return util.send(res);\r\n    } catch (error) {\r\n      util.setError(400, error);\r\n      return util.send(res);\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserController;"],"mappings":"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"}